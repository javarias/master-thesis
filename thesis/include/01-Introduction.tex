\chapter{Introduction}

State-of-the art astronomical facilities are costly to build and operate, it is essential that these facilities 
must be operated as efficiently as possible, trying to maximize the scientific output. In modern astronomy has been
demonstrated the importance to use automatic modes, in the day-to-day operations.
Over the latest decades the problem has attracted more research, due new facilities have been
demonstrated that is unfeasible to try to schedule observations manually, given the complexity to satisfy
the astronomical and instrumental constraints imposed by the problem, and the amount of scientific
proposals to be reviewed. Also, given the dynamic nature of some of the constraints like the weather and
the uncertainty when an observation will be fully completed, make this problem even more difficult.

The Atacama Large Millimeter/submillimeter Array (ALMA) is a major collaboration effort between
European, North American and East Asian countries, under construction on the Chilean Chajnantor
plateau, at 5.000 meters of altitude. Currently it is the largest radio-telescope on Earth, when completed it
will have 66 antennas of 12 and 7 meters diameter, distributed over a wide extension, with up to 16 kilometers
of baseline separation. The ALMA interferometer will provide the possibility to be used as a single
array, or as up to six minor independent arrays or groups of antennas. Over the observing season
multiples arrays configurations will be available changing the antennas position from one place to
another. These places are already defined positions called pads, during normal operations at least two
arrays will be available each of one attached to different correlators computers. As ALMA does not
observe in the visible spectrum, observations are not limited to night time only, thus a 24/7 operation
with as small downtime as possible is expected. However during commissioning operations, ALMA will operate on tied schedules having less than the half of the day-time to do science.

In the study of the problem, two different sub-problems has been identified: \textit{``Astronomical observation scheduling problem''} 
consists on determine a schedule for a given set of scheduling blocks, considering an array already created in a given fixed
period of time. The idea is to try to observe most of the projects with highest priority in the less amount
of time possible considering all the scientific requirements and constraints; and \textit{``The  Array configuration planning problem''}, what  
is on top of the scheduling array problem. It consists in to try to determine a plan for the array configurations given as input,
for the observing season (which is a fixed amount of time and it lasts for several months, up
to a couple of years) and for a given set of the scheduling blocks, which can be observed in
multiple array configurations.

\section{Hypothesis}

Currently, ALMA scheduling software has an algorithm, the Dynamic Scheduling Algorithm (DSA),
which does not try optimize the set of selected scheduling units
as a function of time, for long time periods. Also the algorithm does not try to come up with an
optimal program for array configurations, which are given as input for a given observing season. This algorithm suffers of
serious problems of fairness, it is possible under certain circumstances, to get as result a
scheduling unit repeated all over an observation time frame (like within a week), letting projects 
with the same or higher priority, but belonging to a different participant, to starve (never get observed).
In other hand, the most recent model proposal lacks of astronomical analysis of constraints and
results, to decide whether the algorithm could be feasible to adapt to the ALMA scheduling requirements,
and use it as part of the ALMA software or not.
Currently, no methodology deals with the problem of trying to get a plan for the proposed
array configurations necessary to solve the ALMA’s long-term scheduling.

Therefore the hypothesis presented is the following:
\textbf{``It is feasible to design and implement an algorithm for the ALMA scheduling problem 
that can meet most of the astronomical, instrument and weather constraints''}.

\section{Objectives}
\label{sec:objectives}
The proposed work aims to provide a fully functional algorithm that can be used in the astronomical scheduling problem in ALMA observatory.
The following are the general objectives to accomplish at the end of this work:

\begin{enumerate}

\item To develop a new scheduling algorithm that meets the ALMA’s scientific, instrument and
weather constraints, and requirements; and successfully integrate it within ALMA software.
The development will be focused in try to solve the long-term scheduling problem, where
the algorithm shall provide a schedule for different array configurations within an
observing season.

The specific goals for this objective are:
\begin{itemize}
\item Study real world constraints gathered from ALMA scheduling requirements.
\item Implement the algorithm in a suitable programming language.
\item Design a model to be applied to the short-term, medium-term and long-term ALMA’s
scheduling problem. Focusing in the long-term problem.
\item Define and develop an algorithm that satisfy the ALMA’s scheduling problem requirements
studied prior.
\item The algorithm must minimize array configuration time, at the same time the number of source
must be maximize. This should minimize the array idle-time.
\end{itemize}
\item Define metrics to evaluate the algorithm performance in terms of idle-time or instrument
usage, scientific throughput and completed projects.

The specific goals for this objective are:
\begin{itemize}
\item Metrics must consider idle observatory time and executive time fairness.
\item Develop a suitable test-bench software to evaluate the algorithm.
\item Validate the algorithm using the test-bench.
\end{itemize}
\end{enumerate}

\section{Expected results and validation}
The main contribution expected by this work is the implemented algorithm which will be used as
part of the ALMA software for the next years. This would be a significant contribution to the
ALMA project and in general to the astronomical community.
The specific expected results are:
\begin{itemize}
\item An implemented algorithm ready to use in ALMA
\item A suitable test bench to benchmark the performance of the algorithm
\item The output values of the tests done during the validation process. Also the comparison with
another algorithms whenever is possible
\end{itemize}

Since this work mainly considers the performance of an algorithm implementation, the algorithm will be validated
executing performance measurements tests and then comparing these results against previous
studies. This work proposes a new methodology to validate the performance of an observatory
scheduling algorithm hence a full comparison with previous studies could not apply.

The performance tests will be carried over a simulation platform which has been already
developed for ALMA software. The observation projects considered for the test will be real
projects taken from the ALMA’s cycle 2 observing season, however these projects are not publicly
available after a period of time (2 years).

Even when the projects are not publicly available, this shall not affect the thesis results due the
results does not show in detail what project have more chance to be completely observed, the
restriction imposed by ALMA is related to the ability to identify a particularly project and this is
not the purpose of the results that this work will present.

\section{Document structure}
This document is divided into 4 chapters. Chapter 2 presents the relevant state of the art, starting with classical scheduling problems and providing an overview of some of the current schedulers used in observatories. Chapter 3 discusses the problem to solve, describes necessary concepts to understand the problem, focusing in the ALMA observatory. Chapter 4 introduces the mathematical description of the solution given to the problem, and the details of the algorithms to be used to solve the problem. Chapter 5 presents the validation done to the algorithms proposed, the software to used to validate the solution is quite close to the one used in ALMA software. Finally, chapter 6 presents the conclusions of the work and how the work developed in this document fulfills the hypothesis and completes the objectives, some future work is proposed also.